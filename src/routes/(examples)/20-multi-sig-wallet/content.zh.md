# Multi-Sig Wallet

在Sway中，交易验证是确保交易有效性的关键功能。这通常涉及检查交易是否由正确的账户签名。

1. **交易见证数据**：
   - 在Sway中，每个交易都包含一个见证数据（witness data）数组。
   - 见证数据包含交易的哈希值和签名字段。
   - 你可以使用`tx_witness_data`函数来获取见证数据。
2. **交易见证数量**：
   - `tx_witnesses_count`函数返回见证数据的数量。
   - 这有助于确定见证数据数组的长度。
3. **交易ID**：
   - `tx_id`函数返回当前交易的ID。
   - 这可以用来验证见证数据与交易哈希的关联。
4. **签名验证**：
   - `verify_signature`函数用于验证一个签名是否有效。
   - 它首先检查签名索引是否在见证数据范围内。
   - 然后，它使用椭圆曲线加密（ECR）算法来恢复签名对应的地址。
   - 最后，它比较恢复的地址是否与预期的签名者地址匹配。
5. **配置签名数量**：
   - 在智能合约中，你可以配置所需的签名数量。
   - 如果在验证过程中收集到的有效签名数量达到或超过配置的签名数量，则交易被认为是有效的。

在代码中，定义一个名为`main`的函数，它演示了如何验证交易的有效性。
- 使用`verify_signature`函数来验证每个潜在签名。
- 累加验证成功的签名数量，并与配置的签名数量进行比较。
- 如果验证成功的签名数量达到或超过配置的签名数量，则交易被认为是有效的。

这个简单的例子旨在向你展示如何在Sway中使用交易见证数据和签名验证来构建一个基本的交易验证智能合约。希望这个教程能帮助你更好地理解Sway中的交易验证功能。
